{"version":3,"sources":["file:///Users/chicmic/Documents/InhouseCOCOS/ZipExtractor/node_modules/jszip/lib/nodejs/NodejsStreamOutputAdapter.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","Readable","utils","inherits","NodejsStreamOutputAdapter","helper","options","updateCb","call","_helper","self","on","data","meta","push","pause","e","emit","prototype","_read","resume","_cjsExports"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,mBAAhBC,Y;;AACgBC,MAAAA,K,iBAAhBD,Y;;;8BAEHA,Y,GAAe,cAAYE,G;;AACjCJ,MAAAA,UAAU,CAACK,MAAX,CAAkBH,YAAlB,EAAgC,UAAUI,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEA,YAAIC,QAAQ,GAAGJ,OAAO,CAAC,iBAAD,CAAP,CAA2BI,QAA1C;;AAEA,YAAIC,KAAK,GAAGL,OAAO,CAAC,UAAD,CAAnB;;AACAK,QAAAA,KAAK,CAACC,QAAN,CAAeC,yBAAf,EAA0CH,QAA1C;AAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,iBAASG,yBAAT,CAAmCC,MAAnC,EAA2CC,OAA3C,EAAoDC,QAApD,EAA8D;AAC1DN,UAAAA,QAAQ,CAACO,IAAT,CAAc,IAAd,EAAoBF,OAApB;AACA,eAAKG,OAAL,GAAeJ,MAAf;AAEA,cAAIK,IAAI,GAAG,IAAX;AACAL,UAAAA,MAAM,CAACM,EAAP,CAAU,MAAV,EAAkB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AACpC,gBAAI,CAACH,IAAI,CAACI,IAAL,CAAUF,IAAV,CAAL,EAAsB;AAClBF,cAAAA,IAAI,CAACD,OAAL,CAAaM,KAAb;AACH;;AACD,gBAAGR,QAAH,EAAa;AACTA,cAAAA,QAAQ,CAACM,IAAD,CAAR;AACH;AACJ,WAPD,EAQKF,EARL,CAQQ,OARR,EAQiB,UAASK,CAAT,EAAY;AACrBN,YAAAA,IAAI,CAACO,IAAL,CAAU,OAAV,EAAmBD,CAAnB;AACH,WAVL,EAWKL,EAXL,CAWQ,KAXR,EAWe,YAAY;AACnBD,YAAAA,IAAI,CAACI,IAAL,CAAU,IAAV;AACH,WAbL;AAcH;;AAGDV,QAAAA,yBAAyB,CAACc,SAA1B,CAAoCC,KAApC,GAA4C,YAAW;AACnD,eAAKV,OAAL,CAAaW,MAAb;AACH,SAFD;;AAIAtB,QAAAA,MAAM,CAACF,OAAP,GAAiBQ,yBAAjB,CA7C0F,CAgD3F;;AAEA,2BAAAiB,WAAW,GAAGvB,MAAM,CAACF,OAArB;AAGC,OArDD,EAqDG,OAAO;AACR,2BAAmBL,IADX;AAER,oBAAYE;AAFJ,OAAP,CArDH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'readable-stream';\nimport { __cjsMetaURL as _req0} from '../utils';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var Readable = require(\"readable-stream\").Readable;\n\n var utils = require(\"../utils\");\n utils.inherits(NodejsStreamOutputAdapter, Readable);\n\n /**\n * A nodejs stream using a worker as source.\n * @see the SourceWrapper in http://nodejs.org/api/stream.html\n * @constructor\n * @param {StreamHelper} helper the helper wrapping the worker\n * @param {Object} options the nodejs stream options\n * @param {Function} updateCb the update callback.\n */\n function NodejsStreamOutputAdapter(helper, options, updateCb) {\n     Readable.call(this, options);\n     this._helper = helper;\n\n     var self = this;\n     helper.on(\"data\", function (data, meta) {\n         if (!self.push(data)) {\n             self._helper.pause();\n         }\n         if(updateCb) {\n             updateCb(meta);\n         }\n     })\n         .on(\"error\", function(e) {\n             self.emit(\"error\", e);\n         })\n         .on(\"end\", function () {\n             self.push(null);\n         });\n }\n\n\n NodejsStreamOutputAdapter.prototype._read = function() {\n     this._helper.resume();\n };\n\n module.exports = NodejsStreamOutputAdapter;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  'readable-stream': _req,\n  '../utils': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}